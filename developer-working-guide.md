# 程序员工作指南

用软件创造未来的程序员，勤劳快乐，责任重大。环顾四周，多数软件团队的研发能力相对计算机的巨大潜力和广泛的业务需求有巨大鸿沟，开发效率和软件的质量令人忧伤。稍感安慰的是半个多世纪的编程历史积累了一些最佳实践（best practices)。遵守基于这些最佳实践的规则能大大改善程序员的工作效率。

持续的、高质效的软件开发能力是现代企业的核心竞争力，可以带来企业业务和个人生活质量的指数提高。JUST DO IT! 何乐不为？

## 1 前提

程序员的工作规则是基于如下的前提：

1. 真实和持久的幸福源于和一群优秀的同事接受挑战、创造和分享非凡价值。

1. 程序员是务实的（pragmatic)成年人，肩负责任，值得信任。

1. 规则是用来打破的，但需要足够的事实理由。

1. 所有规则都是明确可执行的。

1. 软件就是业务，软件开发是不间断的连续过程，直到企业/程序员/用户的生命尽头。

1. 每一行语句都会有 10 次以上的修改，可维护性仅次于正确性。

1. 有自动测试的软件功能才算完成。

1. Bug 不可避免，但是很丢人，严重的错误是灾难性的。

1. 沟通合作比想象的困难和必要，需要明确要求和保证机制。

1. 小就是美。便于理解和重用。

1. 程序员拥有工作需要的所有资源，尤其是项目相关信息。

1. 技术的目的是为了业务。程序员必须是相关业务领域的专家。

## 2 基本规则

### 2.1 对每个错误需要回答怎么不再犯

不再犯同样的错误是最有效的工作方法。

### 2.2 每周 40 小时工作，20 小时学习。

清醒的头脑和不断学习是持续高效的基本保证。偶尔的冲刺可以用 20 小时的学习时间来工作，但是不应该成为常态。不鼓励熬夜，禁止每周工作超过 60 个小时。

### 2.3 每周锻炼 4 次，每次 1 个小时以上。

体魄健康，头脑才灵。

### 2.4 一次完成一个任务。

避免上下文切换带来高效率。一个完成的任务好过三个未完成的任务。过程高效而且结果可用。

## 3 团队规则

### 3.1 非常认真的审核设计文档与代码。

审核是高效的质量保证。同时也是学习和沟通的好机会。

### 3.2 程序员参与产品设计并计划开发进度。

程序员是业务专家和实现者。值得信赖和激发最大潜力。

### 3.3 持续编写相关技术文档。

开发过程中随时编写相关技术文档，包括软件设计文档，技术选型，最佳实践，常见问题等。这样便于维护和分享。

### 3.4 所有 bug 都在代码库管理。

相关的讨论和解决方案都有历史记录。

### 3.5 提倡异步通信。

程序员被打断一次平均需要 20 分钟才能恢复高效工作状态。尽量采用短信、邮件、代码库事件等异步通信方式沟通或约定面对面交流时间。

### 3.6 分享团队管理职责

团队的沟通、进度更新、不重犯错的方法、业务的改善等等，都是每个人的责任。大家分享团队管理职责，轮流主持各种会议。团队的每个问题都是我的问题。

## 4 编码规则

### 4.1 自动化的测试是开发编码的一部分。

没有自动测试的代码不算完成。自动化的测试为十次以上的重构带来至关重要的质量保证。

### 4.2 大的功能需要先设计再编码。

对于稍微复杂的、费时超过一个工作日的功能，先写设计文档。这样通常更快而且质量更好。

### 4.3 重复一次以后再抽象。

不要一开始就预想各种使用场景来做抽象，低效而且误导。重复一次以后再抽象会更高效。

### 4.4 持续重构。

看到需要改进的代码就立刻重构，目的是保持代码结构的清晰。大概编码的 20%时间是用于重构的。

### 4.5 每个函数不要超过 10 条语句。

便于理解和重用。

### 4.6 一个函数的所有语句都在单一抽象层(Single Level Abstraction)。

保持程序的结构清晰，而且也容易理解。

### 4.7 软件文档和注释。

每个共用函数和模块都应该有相应 API 文档。源代码有适当的注释。

### 4.8 软件运行日志（Log）是程序的一部份。

日志对运维和错误调试至关重要。其层级（Level）和相关信息需要仔细规划。
